@model IEnumerable<Product>

@{
  Pager pager = new Pager();
  int pageNo = 0;
  if (ViewBag.Pager != null)
  {
    pager = ViewBag.Pager;
    pageNo = pager.CurentPage;
  }
}

<main>
  @*slider Area Start*@
  <div class="slider-area latest-padding" data-background="/assets/img/hero/category.jpg">
    @*Mobile Menu*@
    <div class="single-slider d-flex align-items-center">
      <div class="container">
        <div class="row">
          <div class="col-xl-12">
            <div class="hero-cap text-center">
              <h2>Shop</h2>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  @*slider Area End*@
  @*Latest Products Start*@
  <section class="latest-product-area">
    <div class="container">
      <div class="row product-btn d-flex justify-content-between">
        <div class="properties__button">
          @*Nav Button*@
          <nav>
            <div class="nav nav-tabs" id="nav-tab" role="tablist">
              <a class="nav-item nav-link active" id="nav-home-tab" data-toggle="tab" href="#nav-home" role="tab" aria-controls="nav-home" aria-selected="true">All</a>
            </div>
          </nav>
          @*End Nav Button*@
        </div>
        <div class="select-this d-flex">
          <div class="featured">
            <span>Short by: </span>
          </div>
          <form asp-action="Sort" method="get">
            <div class="select-items">
              <select name="sortOrder" id="select1">
                <option name="SearchString" value="name_desc">
                  <a class="option" asp-action="Sort" asp-route-sortOrder="@ViewData["CurrentFilter"]">

                  </a>
                </option>
                <option value="price_desc">Giá giảm dần</option>
                <option value="price_asc">Giá tăng dần</option>
              </select>
            </div>
          </form>
        </div>
      </div>
      @*Nav Card*@
      <div class="tab-content" id="nav-tabContent">
        @*card one*@
        <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
          <div class="row">
            @foreach (var item in @Model)
            {
              <div class="col-xl-4 col-lg-4 col-md-6">
                <div class="single-product mb-60">
                  <a class="product-img" asp-action="Product_Details" asp-route-productId="@item.IdProduct">
                    <img src="@item.ImageUrl" alt="">
                    @if (item.TagName != null && item.TagName == "bestseller")
                    {
                      <div class="new-product">
                        <span>Best Seller</span>
                      </div>
                    }
                    else if (item.TagName != null && item.TagName == "New")
                    {
                      <div class="new-product">
                        <span>New</span>
                      </div>
                    }
                    else
                    {
                      <div></div>
                    }
                  </a>
                  <div class="product-caption">
                    <div class="product-ratting">
                      <i class="far fa-star"></i>
                      <i class="far fa-star"></i>
                      <i class="far fa-star"></i>
                      <i class="far fa-star low-star"></i>
                      <i class="far fa-star low-star"></i>
                    </div>
                    <h4><a asp-controller="Home" asp-action="Product_Details" asp-route-productId="@item.IdProduct">@item.Name</a></h4>
                    <div class="price">
                      <ul>
                        <li>@String.Format("{0:0,0}", @item.Price) đ</li>
                        <li class="discount">$999,000</li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            }
            <div class="container">
              @if (pager.TotalPages > 0)
              {
                <ul class="pagination justify-content-center">
                  @for (var pge = pager.StartPage; pge <= pager.EndPage; pge++)
                  {
                    <li class="page-item @(pge == pager.CurentPage ? "active" : "")">
                      <a class="page-link" asp-controller="Home"
                         asp-action="Catagori" asp-route-loaiId="@ViewBag.LoaiId"
                         asp-route-page="@pge">@pge</a>
                      </li>
                    }
                </ul>
              }
            </div>
          </div>
        </div>
      </div>
      @*End Nav Card*@
    </div>
  </section>
  @*Latest Products End
    Latest Offers Start*@
  <div class="latest-wrapper lf-padding">
    <div class="latest-area latest-height d-flex align-items-center" data-background="~/assets/img/collection/latest-offer.png">
      <div class="container">
        <div class="row d-flex align-items-center">
          <div class="col-xl-5 col-lg-5 col-md-6 offset-xl-1 offset-lg-1">
            <div class="latest-caption">
              <h2>Get Our<br>Latest Offers News</h2>
              <p>Subscribe news latter</p>
            </div>
          </div>
          <div class="col-xl-5 col-lg-5 col-md-6 ">
            <div class="latest-subscribe">
              <form action="#">
                <input type="email" placeholder="Your email here">
                <button>Shop Now</button>
              </form>
            </div>
          </div>
        </div>
      </div>
      @*man Shape*@
      <div class="man-shape">
        <img src="~/assets/img/collection/latest-man.png" alt="">
      </div>
    </div>
  </div>
  @*Latest Offers End
    Shop Method Start*@
  <div class="shop-method-area section-padding30">
    <div class="container">
      <div class="row d-flex justify-content-between">
        <div class="col-xl-3 col-lg-3 col-md-6">
          <div class="single-method mb-40">
            <i class="ti-package"></i>
            <h6>Free Shipping Method</h6>
            <p>aorem ixpsacdolor sit ameasecur adipisicing elitsf edasd.</p>
          </div>
        </div>
        <div class="col-xl-3 col-lg-3 col-md-6">
          <div class="single-method mb-40">
            <i class="ti-unlock"></i>
            <h6>Secure Payment System</h6>
            <p>aorem ixpsacdolor sit ameasecur adipisicing elitsf edasd.</p>
          </div>
        </div>
        <div class="col-xl-3 col-lg-3 col-md-6">
          <div class="single-method mb-40">
            <i class="ti-reload"></i>
            <h6>Secure Payment System</h6>
            <p>aorem ixpsacdolor sit ameasecur adipisicing elitsf edasd.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  @*Shop Method End
    Gallery Start*@
  <div class="gallery-wrapper lf-padding">
    <div class="gallery-area">
      <div class="container-fluid">
        <div class="row">
          <div class="gallery-items">
            <img src="~/assets/img/gallery/gallery1.jpg" alt="">
          </div>
          <div class="gallery-items">
            <img src="~/assets/img/gallery/gallery2.jpg" alt="">
          </div>
          <div class="gallery-items">
            <img src="~/assets/img/gallery/gallery3.jpg" alt="">
          </div>
          <div class="gallery-items">
            <img src="~/assets/img/gallery/gallery4.jpg" alt="">
          </div>
          <div class="gallery-items">
            <img src="~/assets/img/gallery/gallery5.jpg" alt="">
          </div>
        </div>
      </div>
    </div>
  </div>
  @*Gallery End*@

</main>
